<!DOCTYPE html>
<html lang="ko">
  <head>
    @@include('../common/head.html')
    <link rel="stylesheet" href="../assets/css/more.css"></link>
  </head>
  <body class="more">
    
    @@include('../common/header_sub.html', {title: "알림설정"})
    <div class="container inner-full-padd">

      <section class="setting-box border">
        <span class="type">서비스 알림</span>
        <div class="switch-item">
          <dl>
            <dt>종로ONE 서비스</dt>
            <dd>
              종로ONE에서 제공하는 발권, 민원신청, 공지등에<br>대한 알림을 받을 수 있습니다.
            </dd>
          </dl>
          <div class="switch">
            <input type="checkbox" id="switch" name="whole-switch" value="" class="sr-only">
            <label for="switch" class="btn-switch">
              <span class="sr-only">푸시알림 수신설정</span>
            </label>
          </div>
        </div>
      </section>

    <section class="setting-box border">
      <span class="type">관심 키워드 알림</span>
      <div class="switch-item">
        <dl>
          <dt>공지/행사</dt>
          <dd>
            관심 키워드가 포함된 공지/행사에 대한<br>알림을 받을 수 있습니다.
          </dd>
        </dl>
        <div class="switch">
          <input type="checkbox" id="s2" name="whole-switch" value="" class="sr-only">
          <label for="s2" class="btn-switch">
            <span class="sr-only">푸시알림 수신설정</span>
          </label>
        </div>
      </div>

      <div class="switch-item">
        <dl>
          <dt>채용</dt>
          <dd>
            관심 키워드가 포함된 채용에<br>대한 알림을 받을 수 있습니다.
          </dd>
        </dl>
        <div class="switch">
          <input type="checkbox" id="s2" name="whole-switch" value="" class="sr-only">
          <label for="s2" class="btn-switch">
            <span class="sr-only">푸시알림 수신설정</span>
          </label>
        </div>
      </div>

      <span class="type mt24">관심 키워드 관리</span>
      <div class="switch-item">
        <dl>
          <dt>관심 키워드</dt>
          <dd>
            관심 키워드를 등록하면 관심 키워드가 포함된<br>알림을 받을 수 있습니다.
          </dd>
        </dl>
        <button type="button" class="btn btn-icon icon add btn-popup" data-target="addKeyword">
          <span class="sr-only">관심키워드 등록</span>
        </button>
      </div>
      <div class="my-keywords">
        <div class="word">
          <span>광화문행사</span>
          <span class="icon close">
            <span class="sr-only">키워드 삭제</span>
          </span>
        </div>
        <div class="word">
          <span>종로구복지</span>
          <span class="icon close">
            <span class="sr-only">키워드 삭제</span>
          </span>
        </div>
      </div>
    </section>

    <section class="setting-box">
      <span class="type">이벤트 알림</span>
      <div class="switch-item">
        <dl>
          <dt>이벤트/광고</dt>
          <dd>
            종로ONE에서 제공하는 이벤트/광고에 대한 알림을 받을 수 있습니다.
          </dd>
        </dl>
        <div class="switch">
          <input type="checkbox" id="s4" name="whole-switch" value="" class="sr-only">
          <label for="s4" class="btn-switch">
            <span class="sr-only">푸시알림 수신설정</span>
          </label>
        </div>
      </div>
      <div class="agree-date">수신동의 처리일자 : 2023-11-10</div>
    </div>


    <aside id="aside" class="popup-bg popup-closable">
      <div class="popup popup-cnt" id="addKeyword">
        <div class="add-keyword">
          <h3 class="title">
            <span>관심 키워드</span>
            <button type="button" class="btn btn-icon icon close">
              <span class="sr-only">팝업닫기</span>
            </button>
          </h3>
          <div>
            <input type="text" class="input" placeholder="띄워쓰기 없이 키워드 입력">
          </div>
          <div class="btns">
            <button type="button" class="btn btn-primary">저장</button>
          </div>
        </div>
      </div>
    </aside>

    @@include('../common/script.html')

    <script>
      const allCheck = document.querySelector('#switch')
      const switches = document.getElementsByName('switch');
      
      allCheck.addEventListener('click', function() {
        switches.forEach((checkbox) => {
          checkbox.checked = allCheck.checked
        })
      })

      switches.forEach((checkbox) => {
        checkbox.addEventListener('click', lengthCheck)
      })
      
      function lengthCheck() {
        let checkedLen = 0;
        switches.forEach((checkbox) => {
          if (checkbox.checked) {
            checkedLen++;
          }
          if (checkedLen === switches.length) {
            allCheck.checked = true
          } 
        })
      }
    </script>
  </body>
</html>
