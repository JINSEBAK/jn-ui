<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="../assets/css/reset.css"></link>
<link rel="stylesheet" href="../assets/css/style.css"></link>
<title>종로 스마트시티 모바일 앱</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../assets/css/more.css"></link>
  </head>
  <body class="more no-btm">
    
    <header id="header" class="sub">
  <button type="button" class="btn btn-icon" id="btnBack">
    <img src="../assets/images/icon_back.svg" alt="" />
    <span class="sr-only">뒤로가기</span>
  </button>
  <a type="button" class="btn btn-icon" id="btnHome">
    <img src="../assets/images/icon_home.svg" alt="" />
    <span class="sr-only">홈 바로가기</span>
  </a>
  <h2 class="title"><span>알림설정</span></h2>

  <button type="button" class="btn btn-icon icon info">
    <span class="sr-only">추가 정보 보기</span>
  </button>
  
</header>

    <div class="container inner-full-padd">

      <section class="setting-box border">
        <span class="type">서비스 알림</span>
        <div class="switch-item">
          <dl>
            <dt>종로Pick 서비스</dt>
            <dd>
              종로Pick에서 제공하는 발권, 민원신청, 공지등에<br>대한 알림을 받을 수 있습니다.
            </dd>
          </dl>
          <div class="switch">
            <input type="checkbox" id="switch" name="whole-switch" value="" class="sr-only">
            <label for="switch" class="btn-switch">
              <span class="sr-only">푸시알림 수신설정</span>
            </label>
          </div>
        </div>
      </section>

    <section class="setting-box border">
      <span class="type">관심 키워드 알림</span>
      <div class="switch-item">
        <dl>
          <dt>공지/행사</dt>
          <dd>
            관심 키워드가 포함된 공지/행사에 대한<br>알림을 받을 수 있습니다.
          </dd>
        </dl>
        <div class="switch">
          <input type="checkbox" id="s2" name="whole-switch" value="" class="sr-only">
          <label for="s2" class="btn-switch">
            <span class="sr-only">푸시알림 수신설정</span>
          </label>
        </div>
      </div>

      <div class="switch-item">
        <dl>
          <dt>채용</dt>
          <dd>
            관심 키워드가 포함된 채용에<br>대한 알림을 받을 수 있습니다.
          </dd>
        </dl>
        <div class="switch">
          <input type="checkbox" id="s3" name="whole-switch" value="" class="sr-only">
          <label for="s3" class="btn-switch">
            <span class="sr-only">푸시알림 수신설정</span>
          </label>
        </div>
      </div>

      <span class="type mt24">관심 키워드 관리</span>
      <div class="switch-item">
        <dl>
          <dt>관심 키워드</dt>
          <dd>
            관심 키워드를 등록하면 관심 키워드가 포함된<br>알림을 받을 수 있습니다.
          </dd>
        </dl>
        <button type="button" class="btn btn-icon icon add btn-popup" data-target="addKeyword">
          <span class="sr-only">관심키워드 등록</span>
        </button>
      </div>
      <div class="my-keywords">
        <div class="word">
          <span>광화문행사</span>
          <span class="icon close">
            <span class="sr-only">키워드 삭제</span>
          </span>
        </div>
        <div class="word">
          <span>종로구복지</span>
          <span class="icon close">
            <span class="sr-only">키워드 삭제</span>
          </span>
        </div>
      </div>
    </section>

    <section class="setting-box">
      <span class="type">마케팅 설정</span>
      <div class="switch-item">
        <dl>
          <dt>광고성 정보 수신동의</dt>
          <dd>
            종로Pick에서 제공하는 이벤트/광고에<br>대한 알림을 받을 수 있습니다.
          </dd>
        </dl>
        <div class="switch">
          <input type="checkbox" id="s4" name="ad-agree" value="" class="sr-only">
          <label for="s4" class="btn-switch">
            <span class="sr-only">광고성 정보 알림</span>
          </label>
        </div>
      </div>

      <div class="switch-item">
        <dl>
          <dt>광고성 정보 알림</dt>
          <dd>
            종로Pick에서 제공하는 이벤트/광고에<br>대한 알림을 받을 수 있습니다.
          </dd>
        </dl>
        <div class="switch">
          <input type="checkbox" id="s5" name="ad-alarm-agree" value="" class="sr-only">
          <label for="s5" class="btn-switch">
            <span class="sr-only">광고성 정보 알림</span>
          </label>
        </div>
      </div>
      <div class="agree-date">수신동의 처리일자 : 2023-11-10</div>
    </div>


    <aside id="aside" class="popup-bg popup-closable">
      <div class="popup popup-cnt" id="addKeyword">
        <div class="add-keyword">
          <h3 class="title">
            <span>관심 키워드</span>
            <button type="button" class="btn btn-icon icon close">
              <span class="sr-only">팝업닫기</span>
            </button>
          </h3>
          <div>
            <input type="text" class="input" placeholder="띄워쓰기 없이 키워드 입력">
          </div>
          <div class="btns">
            <button type="button" class="btn btn-primary">저장</button>
          </div>
        </div>
      </div>
    </aside>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="../../assets/js/common.js"></script>


    <script>
      const allCheck = document.querySelector('#switch')
      const switches = document.getElementsByName('switch');
      
      allCheck.addEventListener('click', function() {
        switches.forEach((checkbox) => {
          checkbox.checked = allCheck.checked
        })
      })

      switches.forEach((checkbox) => {
        checkbox.addEventListener('click', lengthCheck)
      })

      document.querySelector('input[name="ad-agree"]').addEventListener('change', function(e) {
        if (!e.target.checked) {
          document.querySelector('input[name="ad-alarm-agree"]').checked = false;
        }
      })
      
      function lengthCheck() {
        let checkedLen = 0;
        switches.forEach((checkbox) => {
          if (checkbox.checked) {
            checkedLen++;
          }
          if (checkedLen === switches.length) {
            allCheck.checked = true
          } 
        })
      }
    </script>
  </body>
</html>
